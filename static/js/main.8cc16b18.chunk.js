(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{18:function(e,t,n){},25:function(e,t,n){},28:function(e,t,n){e.exports=n.p+"static/media/mappyPals.6203924a.svg"},31:function(e,t,n){e.exports=n(43)},36:function(e,t,n){},37:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),r=n(27),o=n.n(r),l=n(45),c=n(5),s=n(4),d=n(8),u=n(6),m=n(9),h=(n(36),n(44)),p=(n(37),n(28)),f=n.n(p),g=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("header",null,i.a.createElement("div",{id:"logo-wrapper"},i.a.createElement(h.a,{to:"/"},i.a.createElement("img",{src:f.a,alt:"Mappy Pals"}))),i.a.createElement("div",{id:"nav-wrapper"},i.a.createElement(h.a,{className:"nav-item",to:"/"}," Home "),i.a.createElement(h.a,{className:"nav-item",to:"/about"}," About "),i.a.createElement(h.a,{className:"nav-item",to:"/contact"}," Contact us "),i.a.createElement(h.a,{className:"nav-item",to:"/login"}," Login "))))},v=n(46),E=n(47),w=n(2),b=(n(25),function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(w.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault()},n.state={email:"",password:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"validateForm",value:function(){return this.state.email.length>0&&this.state.password.length>0}},{key:"render",value:function(){return i.a.createElement("div",{className:"Login"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{type:"email",placeholder:"Enter Username",value:this.state.email,onChange:this.handleChange,required:!0}),i.a.createElement("input",{type:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleChange,required:!0}),i.a.createElement("button",{type:"submit",disabled:!this.validateForm()},"Login")))}}]),t}(a.Component)),y=(n(18),n(14)),k=n(22),j=function(e){return i.a.createElement("div",{id:"popup"},i.a.createElement("div",null,"Nickname: ",e.nickname),e.name?i.a.createElement("div",null,"Name: ",e.name):"",e.phone?i.a.createElement("div",null,"Phone: ",e.phone):"",e.email?i.a.createElement("div",null,"Email: ",e.email):"",e.name?i.a.createElement("div",null,"Zip/Postcode: ",e.postcode):"")},O=n(7),P=function(e,t,n){n({data:Object(y.a)({},t.data,Object(w.a)({},e.target.id,e.target.value))})},F=function(e){var t=Object(a.useState)({data:{}}),n=Object(O.a)(t,2),r=n[0],o=n[1];return i.a.createElement("div",{id:"add-new"},i.a.createElement("input",{type:"text",onChange:function(e){return P(e,r,o)},placeholder:"Nickname",id:"nickname",required:!0}),i.a.createElement("input",{type:"email",onChange:function(e){return P(e,r,o)},placeholder:"Email address",id:"email",required:!0}),i.a.createElement("input",{type:"text",onChange:function(e){return P(e,r,o)},placeholder:"Full Namer",id:"name"}),i.a.createElement("input",{type:"tel",onChange:function(e){return P(e,r,o)},placeholder:"Phone Number",id:"phone"}),i.a.createElement("input",{type:"button",value:"Add Friend",id:"add",onClick:function(){e.onFriendLoaded(r)}}))},C="pk.eyJ1Ijoic2Npb3J0aW5vbXJjIiwiYSI6ImNqc2RocmRzYTB2OGUzeWxuZDNmdDhrcDgifQ.txLXHEJPl4lYa8an6fcjuA",x=function(e){function t(){var e,n;Object(c.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={currentPin:{},newFriend:{long:null,lat:null,name:"",email:"",phone:"",postcode:"",country:"",nickname:""},friendsList:{},viewport:{width:"100vw",height:"100vh",latitude:37.7577,longitude:-122.4376,zoom:11}},n.getPostcode=function(){fetch("https://api.mapbox.com/geocoding/v5/mapbox.places/"+n.state.newFriend.long+","+n.state.newFriend.lat+".json?access_token="+C).then(function(e){return e.json()}).then(function(e){return n.setState({newFriend:Object(y.a)({},n.state.newFriend,{postcode:e.features[1].text,country:e.features[6].text})})})},n.getLocation=function(e){var t=e.lngLat;n.setState({newFriend:Object(y.a)({},n.state.newFriend,{long:t[0],lat:t[1]})})},n.showPopup=function(e){n.setState({currentPin:n.state.friendsList[e.target.id]}),setTimeout(function(){var e=document.getElementById("popup");e&&(e.style.height="180px")},500)},n.hidePopup=function(e){var t=document.getElementById("popup");n.state.currentPin.long&&(t.style.height="0px"),n.setState({currentPin:{}})},n.nicknameExists=function(e,t){var a=document.getElementById("add-new"),i=Object.keys(n.state.friendsList),r=!1;if(console.log({nickname:e,email:t}),e&&e.length&&!i.includes(e)?a.children[0].style.border="":(a.children[0].style.border="2px solid red",r=!0),t&&t.length?a.children[1].style.border="":(a.children[1].style.border="2px solid red",r=!0),Object.keys(n.state.friendsList)>0){var o=!0,l=!1,c=void 0;try{for(var s,d=n.state.friendsList[Symbol.iterator]();!(o=(s=d.next()).done);o=!0){var u=s.value;n.state.friendsList[u].email?(a.children[1].style.border="2px solid red",r=!0):a.children[1].style.border=""}}catch(m){l=!0,c=m}finally{try{o||null==d.return||d.return()}finally{if(l)throw c}}}return r},n.addFriendData=function(e){var t=e.data,a=t.nickname,i=t.name,r=t.email,o=t.phone;if(!n.nicknameExists(a,r)){var l=Object(y.a)({},n.state.newFriend,{nickname:a,name:i,email:r,phone:o});n.setState({newFriend:l}),setTimeout(function(){return n.addFriendToList()},1e3)}},n.addFriendToList=function(){n.setState({friendsList:Object(y.a)({},n.state.friendsList,Object(w.a)({},n.state.newFriend.nickname,n.state.newFriend)),newFriend:{long:null,lat:null,name:"",email:"",phone:"",postcode:"",country:"",nickname:""}});var e=document.getElementById("add-new");e.style.height="0px";var t=!0,a=!1,i=void 0;try{for(var r,o=e.children[Symbol.iterator]();!(t=(r=o.next()).done);t=!0){r.value.value=""}}catch(l){a=!0,i=l}finally{try{t||null==o.return||o.return()}finally{if(a)throw i}}},n.newPin=function(e){n.getLocation(e),n.getPostcode(),document.getElementById("add-new").style.height="180px"},n.allPins=function(){var e=[],t=n.state.friendsList;for(var a in t){var r=t[a],o=r.nickname,l=r.lat,c=r.long;e.push(i.a.createElement(k.a,{key:o,latitude:l,longitude:c},i.a.createElement("i",{id:o,key:o+"k",onClick:function(){return console.log("Here to edit friends details")},onMouseOver:function(e){return n.showPopup(e)},onMouseLeave:function(e){return n.hidePopup(e)},className:"fas fa-map-marker-alt"})))}return e},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.navigator.geolocation.getCurrentPosition(function(t){t.coords.latitude&&e.setState({viewport:Object(y.a)({},e.state.viewport,{latitude:t.coords.latitude,longitude:t.coords.longitude})})}),window.addEventListener("resize",function(t){e.setState({viewport:Object(y.a)({},t,{width:t.target.innerWidth,height:t.target.innerHeight})})}),window.addEventListener("keydown",function(t){"Escape"===t.key&&(e.setState({newFriend:{long:null},currentPin:{}}),document.getElementById("add-new").style.height="")})}},{key:"render",value:function(){var e=this;return i.a.createElement("div",{style:{height:"100vh"}},i.a.createElement(k.b,Object.assign({},this.state.viewport,{onViewportChange:function(t){return e.setState({viewport:t})},mapboxApiAccessToken:C,mapStyle:"mapbox://styles/mapbox/streets-v11",onClick:this.newPin}),Object.keys(this.state.friendsList).length>0?this.allPins():"",null!==this.state.newFriend.long?i.a.createElement(k.a,{latitude:this.state.newFriend.lat,longitude:this.state.newFriend.long},i.a.createElement("i",{id:"new-pin",className:"fas fa-map-marker-alt"})):""),this.state.currentPin.nickname&&!this.state.newFriend.long?i.a.createElement(j,{nickname:this.state.currentPin.nickname,name:this.state.currentPin.name,email:this.state.currentPin.email,phone:this.state.currentPin.phone,postcode:this.state.currentPin.postcode}):"",i.a.createElement(F,{onFriendLoaded:this.addFriendData}))}}]),t}(a.Component),L=function(e){return i.a.createElement("section",null,i.a.createElement(x,null))},S=function(){return i.a.createElement("div",null)},N=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){n.setState(Object(w.a)({},e.target.id,e.target.value))},n.handleSubmit=function(e){e.preventDefault()},n.state={name:"",zip:"",email:"",password:"",confrimPassword:""},n}return Object(m.a)(t,e),Object(s.a)(t,[{key:"verifiedEmail",value:function(){var e=this.state.email;return!!e.includes("@")&&!!e.split("@")[1].includes(".")}},{key:"validateForm",value:function(){var e=this.state,t=e.name,n=e.zip,a=e.email,i=e.password,r=e.confrimPassword;return""!==t&&""!==n&&""!==a&&""!==i&&""!==r&&(i===r&&!!this.verifiedEmail)}},{key:"render",value:function(){return i.a.createElement("div",{className:"Login"},i.a.createElement("form",{onSubmit:this.handleSubmit},i.a.createElement("input",{type:"text",id:"name",placeholder:"Entrer Name",value:this.state.name,onChange:this.handleChange,required:!0}),i.a.createElement("input",{type:"text",id:"zip",placeholder:"Entrer Zip/Postcode",value:this.state.zip,onChange:this.handleChange,required:!0}),i.a.createElement("input",{type:"email",id:"email",placeholder:"Enter Username",value:this.state.email,onChange:this.handleChange,required:!0}),i.a.createElement("input",{type:"password",id:"password",placeholder:"Enter Password",value:this.state.password,onChange:this.handleChange,required:!0}),i.a.createElement("input",{type:"password",id:"confirmPassword",placeholder:"Confirm Password",value:this.state.confirmPassword,onChange:this.handleChange,required:!0}),i.a.createElement("button",{type:"submit",disabled:!this.validateForm()},"Login")))}}]),t}(a.Component),I=function(){return i.a.createElement("main",null,i.a.createElement(v.a,null,i.a.createElement(E.a,{exact:!0,path:"/",component:L}),i.a.createElement(E.a,{path:"/login",component:b}),i.a.createElement(E.a,{path:"/signup",component:N}),i.a.createElement(E.a,{path:"/contact",component:S})))},q=function(e){var t=e.children;return i.a.createElement(i.a.Fragment,null,t)},B=function(e){function t(){return Object(c.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(g,null),i.a.createElement(q,null,i.a.createElement(I,null)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(i.a.createElement(l.a,null,i.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[31,1,2]]]);
//# sourceMappingURL=main.8cc16b18.chunk.js.map